# Use a base image with Apache installed
FROM httpd:2.4

# Copy the contents of the current directory into the container
COPY ./ /usr/local/apache2/htdocs/

# Replace the IP address in the script with the host's IP address
RUN sed -i "s/localhost/$(ip route show 0.0.0.0/0 | awk '{print $3}')/g" /usr/local/apache2/htdocs/script.js

# Expose port 80
EXPOSE 80

# Start the Apache server
CMD ["httpd-foreground"]
