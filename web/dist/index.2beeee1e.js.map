{"mappings":"AAAA,IAAI,QAAQ,CAAC;AACb,IAAI;AAEJ,SAAS,kBAAkB;IACzB,MAAM,WAAW,SAAS,gBAAgB,CAAC;IAE3C,IAAI,SAAS,MAAM,KAAK,GAAG;QACzB,IAAI,QAAQ,EAAE;QAEd,IAAK,IAAI,IAAI,GAAG,IAAI,SAAS,MAAM,EAAE,IACnC,MAAM,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE;QAG3B,aAAa,OAAO,CAAC,YAAY;QAEjC,OAAO;QAGP;IAEF,OACE,MAAM;AAEV;AAEA,SAAS,gBAAgB;IACvB,MAAM,WAAW,aAAa,OAAO,CAAC,YAAY,KAAK,CAAC;IACxD,MAAM,aAAa,SAAS,cAAc,CAAC;IAE3C,MAAM,QAAQ,IAAI;IAClB,MAAM,kBAAkB,MAAM,WAAW,GAAG,KAAK,CAAC,GAAG,IAAI,OAAO,CAAC,MAAM;IAEvE,SAAS,GAAG,CAAC,SAAU,OAAO,EAAE;QAC9B,IAAI,MAAM,SAAS,aAAa,CAAC;QACjC,OAAO,CAAC;;;0DAG8C,EAAE,QAAQ,WAAW,EAAE,QAAQ;;;8DAG3B,EAAE,QAAQ,WAAW,GAAG;;6DAEzB,EAAE,QAAQ,EAAE,EAAE,MAAM;;oDAE7B,EAAE,QAAQ;wBACtC,EAAE,QAAQ;;;;YAItB,CAAC;QAET,IAAI,SAAS,GAAG;QAEhB,WAAW,WAAW,CAAC;IACzB;IAEA,MAAM,UAAU,iBAAiB;AAEnC;AAEA,eAAe,MAAM,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE;IAE1C,QAAQ,MAAM,cAAc,UAAU,OAAO;IAE7C,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAC,UAAY;QAC9B,SAAS,cAAc,CAAC,CAAC,MAAM,EAAE,QAAQ,OAAO,CAAC,CAAC,EAAE,SAAS,GAAG,CAAC,EAAE,QAAQ,MAAM,CAAC,CAAC;QACnF,SAAS,cAAc,CAAC,CAAC,MAAM,EAAE,QAAQ,OAAO,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,GAAG;IACpE;IAEA,WAAW,YAAY,UAAY;QACjC,QAAQ,MAAM,cAAc,UAAU,OAAO;QAE7C,MAAM,QAAQ,CAAC,GAAG,CAAC,CAAC,UAAY;YAC9B,IAAI,aAAa,OAAO,SAAS,cAAc,CAAC,CAAC,MAAM,EAAE,QAAQ,OAAO,CAAC,CAAC,EAAE,IAAI;YAEhF,IAAI,OAAO,QAAQ,MAAM,KAAK,YAC5B,SAAS,cAAc,CAAC,CAAC,MAAM,EAAE,QAAQ,OAAO,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,GAAG;iBAElE,SAAS,cAAc,CAAC,CAAC,MAAM,EAAE,QAAQ,OAAO,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,GAAG;YAEpE,SAAS,cAAc,CAAC,CAAC,MAAM,EAAE,QAAQ,OAAO,CAAC,CAAC,EAAE,SAAS,GAAG,CAAC,EAAE,QAAQ,MAAM,CAAC,CAAC;QAErF;IACF,GAAG;AAEL;AAEA,SAAS,mBAAkB;IACzB,cAAc;AAChB","sources":["OneDrive/Documentos/escuela/2DAW3/proyecto_2evaluacion/web/src/js/operar.js"],"sourcesContent":["let datos = {};\r\nlet interval;\r\n\r\nfunction extraerEmpresas() {\r\n  const empresas = document.querySelectorAll('#dRecive .envia');\r\n\r\n  if (empresas.length !== 0) {\r\n    let array = [];\r\n\r\n    for (let i = 0; i < empresas.length; i++) {\r\n      array.push(empresas[i].id);\r\n    }\r\n\r\n    localStorage.setItem('empresas', array);\r\n\r\n    router('operar')\r\n\r\n\r\n    crearEmpresas();\r\n\r\n  } else {\r\n    alert('Debe seleccionar alguna empresa para poder operar')\r\n  }\r\n}\r\n\r\nfunction crearEmpresas() {\r\n  const empresas = localStorage.getItem('empresas').split(',');\r\n  const contenedor = document.getElementById('listaEmpresas');\r\n\r\n  const fecha = new Date();\r\n  const fechaFormateada = fecha.toISOString().slice(0, 10).replace(/-/g, \"-\");\r\n\r\n  empresas.map(function (empresa) {\r\n    let div = document.createElement('div');\r\n    card = `<div class=\"flex justify-center\">\r\n        <div class=\"rounded-lg shadow-lg bg-white max-w-sm\">\r\n          <a href=\"#!\" data-mdb-ripple=\"true\" data-mdb-ripple-color=\"light\">\r\n            <img class=\"rounded-t-lg\" src=\"../../imagenes/${empresa}.png\" alt=\"${empresa}\"/>\r\n          </a>\r\n          <div class=\"p-6\">\r\n            <h5 class=\"text-sky-900 text-xl font-medium mb-2\">${empresa.toUpperCase()}</h5>\r\n            <p class=\"text-gray-700 text-base mb-4\">\r\n              Precio: <span class=\"text-rose-800\"  id=\"precio${empresa}\">${datos}>0</span>\r\n            </p>\r\n            <a href=\"#!\" onclick=\"router('grafico','${empresa}');pararSetInterval()\">\r\n            <button id=\"${empresa}\"  type=\"button\" class=\" inline-block px-6 py-2.5 bg-sky-600 text-white font-medium text-xl leading-tight uppercase rounded shadow-md hover:bg-sky-700 hover:shadow-lg focus:bg-sky-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-sky-800 active:shadow-lg transition duration-150 ease-in-out\">Grafico</button>\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>`\r\n\r\n    div.innerHTML = card;\r\n\r\n    contenedor.appendChild(div);\r\n  })\r\n\r\n  pedir(empresas, fechaFormateada, 'a')\r\n\r\n}\r\n\r\nasync function pedir(empresas, fecha, hora) {\r\n\r\n  datos = await apiPeticiones(empresas, fecha, hora);\r\n\r\n  datos.Empresas.map((empresa) => {\r\n    document.getElementById(`precio${empresa.empresa}`).innerHTML = `${empresa.cierre}`;\r\n    document.getElementById(`precio${empresa.empresa}`).style.color = 'green';\r\n  });\r\n\r\n  interval = setInterval(async () => {\r\n    datos = await apiPeticiones(empresas, fecha, hora);\r\n\r\n    datos.Empresas.map((empresa) => {\r\n      let preioViejo = Number(document.getElementById(`precio${empresa.empresa}`).text);\r\n\r\n      if (Number(empresa.cierre) >= preioViejo)\r\n        document.getElementById(`precio${empresa.empresa}`).style.color = 'green';\r\n      else\r\n        document.getElementById(`precio${empresa.empresa}`).style.color = 'red';\r\n\r\n      document.getElementById(`precio${empresa.empresa}`).innerHTML = `${empresa.cierre}`;\r\n\r\n    });\r\n  }, 10000);\r\n\r\n}\r\n\r\nfunction pararSetInterval(){\r\n  clearInterval(interval);\r\n}"],"names":[],"version":3,"file":"index.2beeee1e.js.map","sourceRoot":"/__parcel_source_root/"}